---
title: "Board Games"
subtitle: "There are more of them than you'd think!"
author: "Gamesonyourphone? <br> Grace Acton, Finn Conway, and Jackson Donahue"
institute: "Bates College"
date: "`r Sys.Date()`"
output:
  xaringan::moon_reader:
    css: xaringan-themer.css
    lib_dir: libs
    nature:
      ratio: "16:9"
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---
```{r import-board-games, include=FALSE, echo=FALSE}
board_games <- readr::read_csv("/cloud/project/data/board_games.csv")
```

```{r load-packages, include = FALSE}
# Add any additional packages you need to this chunk
library(tidyverse)
library(tidymodels)
library(palmerpenguins)
library(knitr)
library(xaringanthemer)
install.packages("readxl")
library(readxl)
source("/cloud/project/extra/HeatMap_Prep.R")
```

```{r setup, include=FALSE}
# For better figure resolution
knitr::opts_chunk$set(fig.retina = 3, dpi = 300, fig.width = 6, fig.asp = 0.618, out.width = "80%")
```

```{r importing-class-data, include=FALSE}
library(readxl)
read_excel("/cloud/project/extra/Gamesonyourphone?.xlsx")
```

```{r style, echo=FALSE}
style_solarized_dark()
```

---
class: center, top

## Goals and Questions

- How does playing time impact the popularity of board games?

--

- What categories do games fit into, and how do they overlap?

--

- How do game mechanics influence how games are perceived?

--

- How does our class data align with the broader board game dataset?

---
class: inverse, center, middle

# Our Data

---
class: top, center

## Where did we find this?

--
```{r tidytuesday-image, echo=FALSE, out.width ='60%', fig.align = 'center'}
include_graphics("https://github.com/rfordatascience/tidytuesday/raw/master/static/tt_logo.png")
```

---
class: top, center

## What's in this set?

--
```{r glimpse-set, echo=FALSE}
glimpse(board_games)
```
---
class: top, center

## What's in this set?

--
### A lot.

--
.pull-left[

- Name
- Description
- Image
- Designer
- Family
- Publisher
- Game mechanic
- Category
]

--
.pull-right[
- Minimum/maximum playtime
- Minimum age
- Minimum/maximum players
- Year published
- Number of ratings
- **Average rating**
]

---
class: inverse, center, middle

# Playing Time

---
class: top, center

# JACKSON'S SLIDE

---
class: top, center

# JACKSON'S SLIDE

---
class: top, center

# JACKSON'S SLIDE

---
class: inverse, center, middle

# Categories

---
class: top, center

## What categories are used?
```{r categories, echo=FALSE, include=FALSE}
categories <- board_games %>% 
  select(category) %>% 
  separate(category, into = c("category1", "category2", "category3", "category4"), sep = ",")
```
--
.pull-left[

### Primary Categories

```{r top-categories1, echo=FALSE}
categories %>% 
  group_by(category1) %>% 
  count() %>% 
  arrange(desc(n))
```
]

--
.pull-right[

### Secondary Categories

```{r top-categories2, echo=FALSE}
categories %>% 
  group_by(category2) %>% 
  count() %>% 
  arrange(desc(n))
```
]

---
class: top, center

## How do they overlap?

```{r heatmap, echo=FALSE, warning=FALSE, fig.align = 'center', out.width='80%'}
colors <- c("#ffffb2", "#fed976", "#feb24c", "#fd8d3c", "#f03b20", "#bd0026")

map_counts %>% 
  ggplot(aes(x = category2, y = category1, fill = n)) +
  geom_tile() +
  labs(title = "Heatmap of Category Overlaps",
       x = "Category 2",
       y = "Category 1",
       fill = "Number of Overlaps") +
  theme_xaringan() +
  theme(title = element_text(size = 15),
        axis.title = element_blank(),
        axis.text = element_text(size = 10),
        axis.text.x = element_text(angle = 90),
        legend.title = element_text(size = 12),
        legend.text = element_text(size = 10)) +
  scale_fill_stepsn(colors = colors, values = c(0, 0.01, 0.1, 0.25, 0.6, 1))
```

---
class: inverse, center, middle

# Game Mechanics

---
class: top, center

# FINN'S SLIDE
```{r game_mechanic_pop_bar, echo=FALSE, warning=FALSE, fig.align = 'center', out.width='80%', alt.text = "A bar chart showing how the median rating of board game by game mechanic. On average the most well rated game mechanic was area control scoring a median rating of 6.83/10. Variable player powers was next highest rated at 6.82/10. Set collection and tile placement came last, both averaging a score of 6.5."}

median_rating_mechanic <- data.frame (
  mechanics = c("Set Collection", "Tile Placement", "Hand Management", "Dice Rolling", "Modular Board", "Hex-and-Counter", "Card Drafting", "Variable Player Powers", "Area Control / Area Influence"),
  median_ratings = c(6.362520, 6.467080, 6.539565, 6.616235, 6.639640, 6.753595, 6.761220, 6.824460, 6.839340))

  ggplot(median_rating_mechanic, aes(x = median_ratings, fct_relevel(mechanics, "Set Collection", "Tile Placement","Hand Management", "Dice Rolling", "Modular Board", "Hex-and-Counter", "Card Drafting", "Variable Player Powers", "Area Control / Area Influence"), fill = mechanics)) +
  geom_col(stat = "identity", show.legend = FALSE) +
  scale_fill_manual(values = c('#b35806','#e08214','#fdb863','#fee0b6','#f7f7f7','#d8daeb','#b2abd2','#8073ac','#542788')) +
  geom_text(aes(label = median_ratings), position = position_stack(vjust = 0.5)) +
  labs(
      title = "Average Median Rating of Board Games",
      subtitle = "by game mechanic",
      x = "Median Rating",
      y = "Game Mechanic") 
```
---
class: top, center

# FINN'S SLIDE

---
class: top, center

# FINN'S SLIDE

---
class: inverse, center, middle

# What was this classes favorite board game?

```{r class-fav-game, echo=FALSE}
Gamesonyourphone_ %>% 
  group_by(fav_game) %>% 
  count() %>% 
  arrange(desc(n))
```

--

- What categories do games fit into, and how do they overlap?

--

---
class: top, center

# What do we think about board games?

---
class: top, center

## More about the class dataset